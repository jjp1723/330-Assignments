<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Lorenz Attractor Start</title>
	<style>canvas{border: 1px solid black;}</style>
	<script>
        let ctx;
        const canvasWidth = 800, canvasHeight = 600;
        let x = 0.01, y = 0, z = 0;
        let a = 10, b = 28, c = 8 / 3;
        let scale = 8;
        let value;
        let counter = 0;
        
        window.onload = init;

        function init()
        {
            ctx = canvas.getContext("2d");
            canvas.width = canvasWidth;
            canvas.height = canvasHeight;
            ctx.fillRect(0,0,canvasWidth,canvasHeight);
            loop();
        }

        function loop()
        {
            requestAnimationFrame(loop);

            counter += 0.05;
            counter = counter % 360;

            let dt = 0.01;
            let dx = dt * (a * (y - x));
            let dy = dt * (x * (b - z) - y);
            let dz = dt * (x * y - c * z);

            x += dx;
            y += dy;
            z += dz;

            //console.log(x, y, z);

            ctx.save();
            ctx.translate(canvasWidth / 2, canvasHeight / 2);
            //ctx.fillStyle = "white";
            //value = 255 - (z * scale);
            //ctx.fillStyle = `rgb(${255 - value}, ${255 - value}, ${value})`;
            ctx.fillStyle = `hsl(${counter}, 100%, 50%)`;
            ctx.fillRect(x * scale, y * scale, 2, 2);
            ctx.restore();
        }
	</script>
</head>
<body>
    <canvas id="canvas"></canvas>
</body>
</html>