<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Walker-1</title>
	<style>
        canvas
        {
            border:1px solid gray;
        }
	</style>
	<script>
        let fps = 12;

        let walker1 = {
            x:320,
            y:240,
            color: "red",
            width: 10,
            move(){
                if(flipWeightedCoin())
                {
                    this.x += flipWeightedCoin() ? -this.width : this.width;
                }
                else
                {
                    this.y += flipWeightedCoin() ? -this.width : this.width;
                }
            }
        };

        let walker2 = {
            x:320,
            y:240,
            color: "green",
            width: 10,
            move(){
                if(flipWeightedCoin())
                {
                    this.x += flipWeightedCoin() ? -this.width : this.width;
                }
                else
                {
                    this.y += flipWeightedCoin() ? -this.width : this.width;
                }
            }
        };

        let walker3 = {
            x:320,
            y:240,
            color: "blue",
            width: 10,
            move(){
                if(flipWeightedCoin())
                {
                    this.x += flipWeightedCoin() ? -this.width : this.width;
                }
                else
                {
                    this.y += flipWeightedCoin() ? -this.width : this.width;
                }
            }
        };

        let walker4 = {
            x:320,
            y:240,
            color: "yellow",
            width: 10,
            move(){
                if(flipWeightedCoin())
                {
                    this.x += flipWeightedCoin() ? -this.width : this.width;
                }
                else
                {
                    this.y += flipWeightedCoin() ? -this.width : this.width;
                }
            }
        };
	
	
		// #0 - in this class we will always use ECMAScript 5's "strict" mode
		// See what 'use strict' does here:
		// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/Strict_mode
		'use strict';
		let ctx;
		// #1 call the init function after the pages loads
		window.onload = function(){
			console.log("page loaded!");
			// #2 Now that the page has loaded, start drawing!
			
			// A - canvas variable points at <canvas> tag
			let canvas = document.querySelector('canvas');
			
			// B - the ctx variable points at a "2D drawing context"
			ctx = canvas.getContext('2d');
			
			// C - all fill operations are now in red
			ctx.fillStyle = 'black'; 
			
			// D - fill a rectangle with the current fill color
			ctx.fillRect(20,20,600,440); 

            init();
			
			setInterval(drawWalker1,1000/fps);
			setInterval(drawWalker2,1000/fps);
			setInterval(drawWalker3,1000/fps);
			setInterval(drawWalker4,1000/fps);
			//setInterval(cls,5000);
		}

        function init()
        {
            document.querySelector("#color-1").onchange = e => { walker1.color = e.target.value; };
            document.querySelector("#color-2").onchange = e => { walker2.color = e.target.value; };
            document.querySelector("#color-3").onchange = e => { walker3.color = e.target.value; };
            document.querySelector("#color-4").onchange = e => { walker4.color = e.target.value; };
            document.querySelector("#fps").onchange = e => { fps = e.target.value; };
        }
		
		
		function drawWalker1()
        {
			ctx.fillStyle = walker1.color;
			ctx.globalAlpha = 0.2;
			ctx.fillRect(walker1.x-walker1.width/2,walker1.y-walker1.width/2,walker1.width/2,walker1.width/2);
			walker1.move();
            //console.log(ctx.fillStyle);
		}

        function drawWalker2()
        {
			ctx.fillStyle = walker2.color;
			ctx.globalAlpha = 0.2;
			ctx.fillRect(walker2.x-walker2.width/2,walker2.y-walker2.width/2,walker2.width/2,walker2.width/2);
			walker2.move();
            //console.log(ctx.fillStyle);
		}

        function drawWalker3()
        {
            ctx.fillStyle = walker3.color;
            ctx.globalAlpha = 0.2;
            ctx.fillRect(walker3.x-walker3.width/2,walker3.y-walker3.width/2,walker3.width/2,walker3.width/2);
            walker3.move();
            //console.log(ctx.fillStyle);
        }

        function drawWalker4()
        {
            ctx.fillStyle = walker4.color;
            ctx.globalAlpha = 0.2;
            ctx.fillRect(walker4.x-walker4.width/2,walker4.y-walker4.width/2,walker4.width/2,walker4.width/2);
            walker4.move();
            //console.log(ctx.fillStyle);
        }
		
		// UTILS
		function getRandomColor()
        {
			function getByte()
            {
				return 55 + Math.round(Math.random() * 200);
			}
			return "rgba(" + getByte() + "," + getByte() + "," + getByte() + ",.8)";
		}
		
		function cls()
        {
			ctx.clearRect(0,0,640,480);
		}
		
		function flipWeightedCoin(weight = 0.5)
        {
			return Math.random() < weight;
		}
	</script>
</head>
<body>
	<canvas width="640" height="480">
		Get a real browser!
	</canvas>

    <br>

    <label for="color-1">Color 1</label>
    <select name="color-1" id="color-1">
        <option value="red" selected>Red</option>
        <option value="green">Green</option>
        <option value="blue">Blue</option>
        <option value="yellow">Yellow</option>
        <option value="purple">Purple</option>
        <option value="orange">Orange</option>
        <option value="white">White</option>
    </select>

    <br>

    <label for="color-2">Color 2</label>
    <select name="color-2" id="color-2">
        <option value="red">Red</option>
        <option value="green" selected>Green</option>
        <option value="blue">Blue</option>
        <option value="yellow">Yellow</option>
        <option value="purple">Purple</option>
        <option value="orange">Orange</option>
        <option value="white">White</option>
    </select>

    <br>

    <label for="color-3">Color 3</label>
    <select name="color-3" id="color-3">
        <option value="red">Red</option>
        <option value="green">Green</option>
        <option value="blue" selected>Blue</option>
        <option value="yellow">Yellow</option>
        <option value="purple">Purple</option>
        <option value="orange">Orange</option>
        <option value="white">White</option>
    </select>

    <br>

    <label for="color-4">Color 4</label>
    <select name="color-4" id="color-4">
        <option value="red">Red</option>
        <option value="green">Green</option>
        <option value="blue">Blue</option>
        <option value="yellow" selected>Yellow</option>
        <option value="purple">Purple</option>
        <option value="orange">Orange</option>
        <option value="white">White</option>
    </select>

    <br><br>

    <label for="fps">FPS</label>
    <select name="fps" id="fps">
        <option value="6">6</option>
        <option value="12" selected>12</option>
        <option value="30">30</option>
        <option value="60">60</option>
        <option value="90">90</option>
        <option value="120">120</option>
    </select>
</body>
</html>